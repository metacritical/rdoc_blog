#!/usr/bin/env ruby
# RDoc Blog Installer
# Generated on 2025-12-03 12:25:28 +0530

require 'fileutils'
require 'base64'

def create_file(path, content_base64)
  dir = File.dirname(path)
  FileUtils.mkdir_p(dir) unless dir == '.'
  File.open(path, 'w') do |file|
    file.write(Base64.decode64(content_base64))
  end
  puts "Created #{path}"
end

puts 'Welcome to the RDoc Blog Installer!'
print 'Where do you want to install the blog? [rdoc-blog]: '
begin
  input = File.open('/dev/tty') { |f| f.gets }
rescue Errno::ENXIO, Errno::ENOENT
  input = gets
end
target_dir = input&.chomp
target_dir = 'rdoc-blog' if target_dir.nil? || target_dir.empty?

if File.exist?(target_dir)
  puts "Directory '#{target_dir}' already exists. Aborting."
  exit 1
end

puts "Creating directory '#{target_dir}'..."
FileUtils.mkdir_p(target_dir)
Dir.chdir(target_dir)

puts 'Installing RDoc Blog...'

create_file('bin/rdoc-blog', 'IyEvdXNyL2Jpbi9lbnYgcnVieQpyZXF1aXJlICdvcHRwYXJzZScKcmVxdWlyZSAncmRvYycKcmVxdWlyZSAnZmlsZXV0aWxzJwpyZXF1aXJlX3JlbGF0aXZlICcuLi9saWIvcmRvY19ibG9nL21vbmtleV9wYXRjaCcKCiMgRGVmYXVsdCBjb25maWd1cmF0aW9uCm9wdGlvbnMgPSB7CiAgdGhlbWU6ICdkYXJrZmlzaCcsCiAgcG9zdHNfZGlyOiAncG9zdHMnLAogIG91dHB1dF9kaXI6ICdwdWJsaWMnLAogIHRpdGxlOiAnUkRvYyBCbG9nJwp9CgojIExvYWQgY29uZmlnLnltbCBpZiBpdCBleGlzdHMKY29uZmlnX2ZpbGUgPSAnY29uZmlnLnltbCcKaWYgRmlsZS5leGlzdD8oY29uZmlnX2ZpbGUpCiAgcmVxdWlyZSAneWFtbCcKICBjb25maWcgPSBZQU1MLmxvYWRfZmlsZShjb25maWdfZmlsZSkKICAjIFN5bWJvbGl6ZSBrZXlzCiAgY29uZmlnID0gY29uZmlnLnRyYW5zZm9ybV9rZXlzKCY6dG9fc3ltKQogIG9wdGlvbnMubWVyZ2UhKGNvbmZpZykKZW5kCgojIFBhcnNlIGNvbW1hbmQgbGluZSBhcmd1bWVudHMKT3B0aW9uUGFyc2VyLm5ldyBkbyB8b3B0c3wKICBvcHRzLmJhbm5lciA9ICJVc2FnZTogcmRvYy1ibG9nIFtvcHRpb25zXSIKCiAgb3B0cy5vbigiLXQiLCAiLS10aGVtZSBOQU1FIiwgIlJEb2MgdGhlbWUgdG8gdXNlIChkZWZhdWx0OiBkYXJrZmlzaCkiKSBkbyB8dHwKICAgIG9wdGlvbnNbOnRoZW1lXSA9IHQKICBlbmQKCiAgb3B0cy5vbigiLXAiLCAiLS1wb3N0cyBESVIiLCAiRGlyZWN0b3J5IGNvbnRhaW5pbmcgYmxvZyBwb3N0cyAoZGVmYXVsdDogcG9zdHMpIikgZG8gfHB8CiAgICBvcHRpb25zWzpwb3N0c19kaXJdID0gcAogIGVuZAoKICBvcHRzLm9uKCItbyIsICItLW91dHB1dCBESVIiLCAiT3V0cHV0IGRpcmVjdG9yeSAoZGVmYXVsdDogcHVibGljKSIpIGRvIHxvfAogICAgb3B0aW9uc1s6b3V0cHV0X2Rpcl0gPSBvCiAgZW5kCgogIG9wdHMub24oIi0tdGl0bGUgVElUTEUiLCAiQmxvZyB0aXRsZSAoZGVmYXVsdDogUkRvYyBCbG9nKSIpIGRvIHx0fAogICAgb3B0aW9uc1s6dGl0bGVdID0gdAogIGVuZAoKICBvcHRzLm9uKCItaCIsICItLWhlbHAiLCAiUHJpbnRzIHRoaXMgaGVscCIpIGRvCiAgICBwdXRzIG9wdHMKICAgIGV4aXQKICBlbmQKZW5kLnBhcnNlIQoKIyBBcHBseSB0aGUgbW9ua2V5IHBhdGNoClJEb2NCbG9nOjpNb25rZXlQYXRjaC5hcHBseQoKcHV0cyAi8J+TnSBHZW5lcmF0aW5nIGJsb2cuLi4iCnB1dHMgIiAgIFBvc3RzOiAgI3tvcHRpb25zWzpwb3N0c19kaXJdfSIKcHV0cyAiICAgT3V0cHV0OiAje29wdGlvbnNbOm91dHB1dF9kaXJdfSIKcHV0cyAiICAgVGhlbWU6ICAje29wdGlvbnNbOnRoZW1lXX0iCgojIEVuc3VyZSBvdXRwdXQgZGlyZWN0b3J5IGV4aXN0cwpGaWxlVXRpbHMubWtkaXJfcChvcHRpb25zWzpvdXRwdXRfZGlyXSkKCiMgR2F0aGVyIGZpbGVzCiMgTG9vayBmb3IgLnJkb2MsIC5yYiwgLm1kLCAudHh0CmZpbGVzID0gRGlyW0ZpbGUuam9pbihvcHRpb25zWzpwb3N0c19kaXJdLCAnKi57cmRvYyxyYixtZCx0eHR9JyldLnJlamVjdCB7IHxmfCBmLmluY2x1ZGU/KCdURU1QTEFURScpIH0KCmlmIGZpbGVzLmVtcHR5PwogIHB1dHMgIuKaoO+4jyAgTm8gcG9zdHMgZm91bmQgaW4gI3tvcHRpb25zWzpwb3N0c19kaXJdfSEiCiAgZXhpdCAxCmVuZAoKIyBCdWlsZCBSRG9jIGFyZ3VtZW50cwphcmdzID0gWwogICctLW9wJywgb3B0aW9uc1s6b3V0cHV0X2Rpcl0sCiAgJy0tdGl0bGUnLCBvcHRpb25zWzp0aXRsZV0sCiAgJy0tZm9ybWF0Jywgb3B0aW9uc1s6dGhlbWVdLAogICctLW1haW4nLCAnaW5kZXguaHRtbCcsICMgVHJ5IHRvIHNldCBhIG1haW4gcGFnZSBpZiBwb3NzaWJsZSwgdGhvdWdoIFJEb2MgdXN1YWxseSBwaWNrcyBvbmUKICAnLS1mb3JjZS1vdXRwdXQnCl0gKyBmaWxlcwoKIyBSdW4gUkRvYwpiZWdpbgogIHIgPSBSRG9jOjpSRG9jLm5ldwogIHIuZG9jdW1lbnQoYXJncykKICBwdXRzICLinIUgQmxvZyBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IGF0ICN7RmlsZS5qb2luKG9wdGlvbnNbOm91dHB1dF9kaXJdLCAnaW5kZXguaHRtbCcpfSIKcmVzY3VlID0+IGUKICBwdXRzICLinYwgRXJyb3IgZ2VuZXJhdGluZyBibG9nOiAje2UubWVzc2FnZX0iCiAgcHV0cyBlLmJhY2t0cmFjZQogIGV4aXQgMQplbmQK')
create_file('lib/rdoc_blog/monkey_patch.rb', 'IyBmcm96ZW5fc3RyaW5nX2xpdGVyYWw6IHRydWUKCnJlcXVpcmUgJ3Jkb2MvcGFyc2VyJwoKbW9kdWxlIFJEb2NCbG9nCiAgbW9kdWxlIE1vbmtleVBhdGNoCiAgICBkZWYgc2VsZi5hcHBseQogICAgICBSRG9jOjpQYXJzZXIuc2luZ2xldG9uX2NsYXNzLnByZXBlbmQoUGFyc2VyRXh0ZW5zaW9ucykKICAgICAgCiAgICAgICMgTW9ua2V5IHBhdGNoIFJEb2M6OlZFUlNJT04gdG8gY3VzdG9taXplIHRoZSBmb290ZXIKICAgICAgIyBUaGlzIGlzIGEgYml0IGhhY2t5IGJ1dCBlZmZlY3RpdmUgZm9yIGNoYW5naW5nIHRoZSAiR2VuZXJhdGVkIGJ5IiB0ZXh0CiAgICAgIFJEb2Muc2VuZCg6cmVtb3ZlX2NvbnN0LCA6VkVSU0lPTikKICAgICAgUkRvYy5jb25zdF9zZXQoOlZFUlNJT04sICI2LjE2LjAgKE1vbmtleSBQYXRjaGVkKS4gPGEgaHJlZj0naHR0cHM6Ly9ydWJ5LmdpdGh1Yi5pby9yZG9jL1JEb2MvTWFya3VwUmVmZXJlbmNlLmh0bWwnPk1hcmt1cCBSZWZlcmVuY2U8L2E+IikKICAgIGVuZAoKICAgIG1vZHVsZSBQYXJzZXJFeHRlbnNpb25zCiAgICAgICMgSW50ZXJjZXB0IHRoZSBwYXJzZXIgc2VsZWN0aW9uCiAgICAgIGRlZiBmb3IodG9wX2xldmVsLCBjb250ZW50LCBvcHRpb25zLCBzdGF0cykKICAgICAgICAjIENoZWNrIGlmIHRoZSBjb250ZW50IHN0YXJ0cyB3aXRoIG91ciBzcGVjaWFsIFRpdGxlIGRpcmVjdGl2ZQogICAgICAgIGlmIGNvbnRlbnQgPX4gL1xBXHMqVGl0bGU6XHMqWyInXSguKz8pWyInXS9pCiAgICAgICAgICB0aXRsZSA9ICQxCiAgICAgICAgICAKICAgICAgICAgICMgU3RvcmUgdGhlIHRpdGxlIGluIHRoZSBUb3BMZXZlbCBtZXRhZGF0YQogICAgICAgICAgIyBwdXRzICJERUJVRzogU2V0dGluZyB0aXRsZSBmb3IgI3t0b3BfbGV2ZWwubmFtZX0gdG8gJyN7dGl0bGV9JyIKICAgICAgICAgIHRvcF9sZXZlbC5tZXRhZGF0YVsndGl0bGUnXSA9IHRpdGxlCgogICAgICAgICAgIyBUcmFuc2Zvcm0gdGhlIGNvbnRlbnQ6CiAgICAgICAgICAjIDEuIFJlcGxhY2UgdGhlICJUaXRsZTogLi4uIiBsaW5lIHdpdGggYW4gUkRvYyBoZWFkZXIgIj0gVGl0bGUiCiAgICAgICAgICAjIDIuIFRoaXMgZW5zdXJlcyBSRG9jIHRyZWF0cyBpdCBhcyB0aGUgcGFnZSB0aXRsZQogICAgICAgICAgbmV3X2NvbnRlbnQgPSBjb250ZW50LnN1YigvXEFccypUaXRsZTpccypbIiddLis/WyInXVxzKi8sICI9ICN7dGl0bGV9XG5cbiIpCiAgICAgICAgICAKICAgICAgICAgICMgRm9yY2UgdXNhZ2Ugb2YgU2ltcGxlIHBhcnNlciAod2hpY2ggaGFuZGxlcyBSRG9jIGZvcm1hdCB0ZXh0KQogICAgICAgICAgIyBXZSBwYXNzIHRoZSAqbmV3KiBjb250ZW50IHRvIGl0CiAgICAgICAgICByZXR1cm4gUkRvYzo6UGFyc2VyOjpTaW1wbGUubmV3KHRvcF9sZXZlbCwgbmV3X2NvbnRlbnQsIG9wdGlvbnMsIHN0YXRzKQogICAgICAgIGVuZAoKICAgICAgICAjIEZhbGxiYWNrIHRvIG9yaWdpbmFsIGJlaGF2aW9yCiAgICAgICAgc3VwZXIKICAgICAgZW5kCiAgICBlbmQKICBlbmQKZW5kCgojIE1vbmtleSBwYXRjaCBSRG9jOjpUb3BMZXZlbCB0byB1c2UgdGhlIHRpdGxlIGZyb20gbWV0YWRhdGEgYXMgdGhlIG5hbWUKY2xhc3MgUkRvYzo6VG9wTGV2ZWwKICBhbGlhc19tZXRob2QgOm9yaWdpbmFsX25hbWUsIDpuYW1lCiAgYWxpYXNfbWV0aG9kIDpvcmlnaW5hbF9iYXNlX25hbWUsIDpiYXNlX25hbWUKICBhbGlhc19tZXRob2QgOm9yaWdpbmFsX3BhZ2VfbmFtZSwgOnBhZ2VfbmFtZQoKICBkZWYgbmFtZQogICAgcmV0dXJuIG1ldGFkYXRhWyd0aXRsZSddIGlmIG1ldGFkYXRhICYmIG1ldGFkYXRhWyd0aXRsZSddCiAgICBvcmlnaW5hbF9uYW1lCiAgZW5kCgogIGRlZiBiYXNlX25hbWUKICAgIHJldHVybiBtZXRhZGF0YVsndGl0bGUnXSBpZiBtZXRhZGF0YSAmJiBtZXRhZGF0YVsndGl0bGUnXQogICAgb3JpZ2luYWxfYmFzZV9uYW1lCiAgZW5kCgogIGRlZiBwYWdlX25hbWUKICAgIHJldHVybiBtZXRhZGF0YVsndGl0bGUnXSBpZiBtZXRhZGF0YSAmJiBtZXRhZGF0YVsndGl0bGUnXQogICAgb3JpZ2luYWxfcGFnZV9uYW1lCiAgZW5kCmVuZAoKIyBNb25rZXkgcGF0Y2ggUkRvYzo6R2VuZXJhdG9yOjpKc29uSW5kZXggdG8gb25seSBpbmRleCBwYWdlcyAodGl0bGVzL2NvbnRlbnQpCiMgVGhpcyByZW1vdmVzIENsYXNzZXMgYW5kIE1ldGhvZHMgZnJvbSB0aGUgc2VhcmNoIGluZGV4CnJlcXVpcmUgJ3Jkb2MvZ2VuZXJhdG9yL2pzb25faW5kZXgnCmNsYXNzIFJEb2M6OkdlbmVyYXRvcjo6SnNvbkluZGV4CiAgYWxpYXNfbWV0aG9kIDpvcmlnaW5hbF9idWlsZF9pbmRleCwgOmJ1aWxkX2luZGV4CgogIGRlZiBidWlsZF9pbmRleAogICAgcmVzZXQgQHN0b3JlLmFsbF9maWxlcy5zb3J0LCBAc3RvcmUuYWxsX2NsYXNzZXNfYW5kX21vZHVsZXMuc29ydAoKICAgICMgT25seSBpbmRleCBwYWdlcywgc2tpcCBjbGFzc2VzIGFuZCBtZXRob2RzCiAgICBpbmRleF9wYWdlcwoKICAgIHsgOmluZGV4ID0+IEBpbmRleCB9CiAgZW5kCgogIGRlZiBpbmRleF9wYWdlcwogICAgZGVidWdfbXNnICIgIGdlbmVyYXRpbmcgcGFnZXMgc2VhcmNoIGluZGV4IgoKICAgIHBhZ2VzID0gQGZpbGVzLnNlbGVjdCBkbyB8ZmlsZXwKICAgICAgZmlsZS50ZXh0PwogICAgZW5kCgogICAgcGFnZXMuZWFjaCBkbyB8cGFnZXwKICAgICAgZGVidWdfbXNnICIgICAgI3twYWdlLnBhZ2VfbmFtZX0iCiAgICAgIHJlY29yZCA9IHBhZ2Uuc2VhcmNoX3JlY29yZAogICAgICBAaW5kZXhbOnNlYXJjaEluZGV4XSAgICAgPDwgc2VhcmNoX3N0cmluZyhyZWNvcmQuc2hpZnQpCiAgICAgICMgVXNlIHRoZSBwYWdlIGRlc2NyaXB0aW9uIChjb250ZW50KSBmb3IgbG9uZ1NlYXJjaEluZGV4IHRvIGVuYWJsZSBjb250ZW50IHNlYXJjaAogICAgICAjIFdlIHN0cmlwIEhUTUwgdGFncyBhbmQgbmV3bGluZXMgdG8gbWFrZSBpdCBjbGVhbmVyIGZvciB0aGUgaW5kZXgKICAgICAgY29udGVudCA9IHBhZ2UuZGVzY3JpcHRpb24uZ3N1YigvPFtePl0rPi8sICcgJykuZ3N1YigvXHMrLywgJyAnKS5zdHJpcAogICAgICBAaW5kZXhbOmxvbmdTZWFyY2hJbmRleF0gPDwgc2VhcmNoX3N0cmluZyhjb250ZW50KQogICAgICByZWNvcmQuc2hpZnQgIyBza2lwIG9yaWdpbmFsIGxvbmcgbmFtZSAoZW1wdHkgZm9yIHBhZ2VzIHVzdWFsbHkpCiAgICAgIEBpbmRleFs6aW5mb10gICAgICAgICAgICA8PCByZWNvcmQKICAgIGVuZAogIGVuZAplbmQKCiMgTW9ua2V5IHBhdGNoIFJEb2M6OkdlbmVyYXRvcjo6RGFya2Zpc2ggdG8gcmVtb3ZlIENsYXNzZXMvTWV0aG9kcyBsaW5rcyBmcm9tIHNpZGViYXIKcmVxdWlyZSAncmRvYy9nZW5lcmF0b3IvZGFya2Zpc2gnCmNsYXNzIFJEb2M6OkdlbmVyYXRvcjo6RGFya2Zpc2gKICBhbGlhc19tZXRob2QgOm9yaWdpbmFsX3RlbXBsYXRlX2ZvciwgOnRlbXBsYXRlX2ZvcgoKICBkZWYgdGVtcGxhdGVfZm9yKGZpbGUsIHBhZ2UgPSB0cnVlLCBrbGFzcyA9IEVSQikKICAgIGZpbGVfc3RyID0gZmlsZS50b19zCgogICAgaWYgZmlsZV9zdHIuZW5kX3dpdGg/KCdfc2lkZWJhcl9uYXZpZ2F0aW9uLnJodG1sJykKICAgICAgIyBSZXR1cm4gYSBjdXN0b20gdGVtcGxhdGUgdGhhdCBvbmx5IGluY2x1ZGVzIEhvbWUgYW5kIFBhZ2VzCiAgICAgIHRlbXBsYXRlX3N0ciA9IDw8LVRFTVBMQVRFCjxkaXYgaWQ9ImhvbWUtc2VjdGlvbiIgcm9sZT0icmVnaW9uIiB0aXRsZT0iUXVpY2sgbmF2aWdhdGlvbiIgY2xhc3M9Im5hdi1zZWN0aW9uIj4KICA8aDI+CiAgICA8YSBocmVmPSI8JT0gcmVsX3ByZWZpeCAlPi9pbmRleC5odG1sIiByZWw9ImhvbWUiPkhvbWU8L2E+CiAgPC9oMj4KCiAgPGRpdiBpZD0idGFibGUtb2YtY29udGVudHMtbmF2aWdhdGlvbiI+CiAgICA8YSBocmVmPSI8JT0gcmVsX3ByZWZpeCAlPi90YWJsZV9vZl9jb250ZW50cy5odG1sI3BhZ2VzIj5QYWdlczwvYT4KICA8L2Rpdj4KPC9kaXY+CiAgICAgIFRFTVBMQVRFCiAgICAgIAogICAgICAjIEZpeCBlcmJvdXQgbG9naWM6IAogICAgICAjIElmIHBhZ2UgaXMgdHJ1ZSAoZnVsbCBwYWdlKSwgdXNlICdpbycgKHN0YW5kYXJkIERhcmtmaXNoIGJlaGF2aW9yKQogICAgICAjIElmIHBhZ2UgaXMgZmFsc2UgKHBhcnRpYWwpLCB1c2UgJ19lcmJvdXRfLi4uJyAoc3RhbmRhcmQgRGFya2Zpc2ggYmVoYXZpb3IpCiAgICAgIGlmIHBhZ2UKICAgICAgICBlcmJvdXQgPSAnaW8nCiAgICAgIGVsc2UKICAgICAgICBlcmJvdXQgPSAiX2VyYm91dF9zaWRlYmFyX25hdmlnYXRpb24iCiAgICAgIGVuZAogICAgICAKICAgICAgcmV0dXJuIGtsYXNzLm5ldyh0ZW1wbGF0ZV9zdHIsIHRyaW1fbW9kZTogJy0nLCBlb3V0dmFyOiBlcmJvdXQpCiAgICBlbmQKCiAgICBpZiBmaWxlX3N0ci5lbmRfd2l0aD8oJ19zaWRlYmFyX3NlYXJjaC5yaHRtbCcpCiAgICAgICMgUmV0dXJuIGEgY3VzdG9tIHRlbXBsYXRlIHdpdGggdXBkYXRlZCBwbGFjZWhvbGRlcgogICAgICB0ZW1wbGF0ZV9zdHIgPSA8PC1URU1QTEFURQo8ZGl2IGlkPSJzZWFyY2gtc2VjdGlvbiIgcm9sZT0ic2VhcmNoIiBjbGFzcz0icHJvamVjdC1zZWN0aW9uIGluaXRpYWxseS1oaWRkZW4iPgogIDxmb3JtIGFjdGlvbj0iIyIgbWV0aG9kPSJnZXQiIGFjY2VwdC1jaGFyc2V0PSJ1dGYtOCI+CiAgICA8ZGl2IGlkPSJzZWFyY2gtZmllbGQtd3JhcHBlciI+CiAgICAgIDxpbnB1dCBpZD0ic2VhcmNoLWZpZWxkIiByb2xlPSJjb21ib2JveCIgYXJpYS1sYWJlbD0iU2VhcmNoIgogICAgICAgICAgICAgYXJpYS1hdXRvY29tcGxldGU9Imxpc3QiIGFyaWEtY29udHJvbHM9InNlYXJjaC1yZXN1bHRzIgogICAgICAgICAgICAgdHlwZT0idGV4dCIgbmFtZT0ic2VhcmNoIiBwbGFjZWhvbGRlcj0iU2VhcmNoIHBvc3RzLi4uIiBzcGVsbGNoZWNrPSJmYWxzZSIKICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT0ib2ZmIgogICAgICAgICAgICAgdGl0bGU9IlR5cGUgdG8gc2VhcmNoLCBVcCBhbmQgRG93biB0byBuYXZpZ2F0ZSwgRW50ZXIgdG8gbG9hZCI+CiAgICA8L2Rpdj4KCiAgICA8dWwgaWQ9InNlYXJjaC1yZXN1bHRzIiBhcmlhLWxhYmVsPSJTZWFyY2ggUmVzdWx0cyIKICAgICAgICBhcmlhLWJ1c3k9ImZhbHNlIiBhcmlhLWV4cGFuZGVkPSJmYWxzZSIKICAgICAgICBhcmlhLWF0b21pYz0iZmFsc2UiIGNsYXNzPSJpbml0aWFsbHktaGlkZGVuIj48L3VsPgogIDwvZm9ybT4KPC9kaXY+CiAgICAgIFRFTVBMQVRFCgogICAgICBpZiBwYWdlCiAgICAgICAgZXJib3V0ID0gJ2lvJwogICAgICBlbHNlCiAgICAgICAgZXJib3V0ID0gIl9lcmJvdXRfc2lkZWJhcl9zZWFyY2giCiAgICAgIGVuZAoKICAgICAgcmV0dXJuIGtsYXNzLm5ldyh0ZW1wbGF0ZV9zdHIsIHRyaW1fbW9kZTogJy0nLCBlb3V0dmFyOiBlcmJvdXQpCiAgICBlbmQKCiAgICAjIEFsaWtpIHNwZWNpZmljIHBhdGNoZXMKICAgIGlmIGZpbGVfc3RyLmVuZF93aXRoPygnX2hlYWRlci5yaHRtbCcpCiAgICAgICMgUGF0Y2ggQWxpa2kgaGVhZGVyIHRvIHVwZGF0ZSBzZWFyY2ggcGxhY2Vob2xkZXIKICAgICAgdGVtcGxhdGVfc3RyID0gPDwtVEVNUExBVEUKPGhlYWRlciBjbGFzcz0idG9wLW5hdmJhciI+CiAgPGEgaHJlZj0iPCU9IHJlbF9wcmVmaXggJT4vaW5kZXguaHRtbCIgY2xhc3M9Im5hdmJhci1icmFuZCI+CiAgICA8JT0gaCBAb3B0aW9ucy50aXRsZSAlPgogIDwvYT4KCiAgPCEtLSBEZXNrdG9wIHNlYXJjaCBiYXIgLS0+CiAgPGRpdiBjbGFzcz0ibmF2YmFyLXNlYXJjaCBuYXZiYXItc2VhcmNoLWRlc2t0b3AiIHJvbGU9InNlYXJjaCI+CiAgICA8Zm9ybSBhY3Rpb249IiMiIG1ldGhvZD0iZ2V0IiBhY2NlcHQtY2hhcnNldD0idXRmLTgiPgogICAgICA8aW5wdXQgaWQ9InNlYXJjaC1maWVsZCIgcm9sZT0iY29tYm9ib3giIGFyaWEtbGFiZWw9IlNlYXJjaCIKICAgICAgICAgICAgIGFyaWEtYXV0b2NvbXBsZXRlPSJsaXN0IiBhcmlhLWNvbnRyb2xzPSJzZWFyY2gtcmVzdWx0cyIKICAgICAgICAgICAgIHR5cGU9InRleHQiIG5hbWU9InNlYXJjaCIgcGxhY2Vob2xkZXI9IlNlYXJjaCBwb3N0cy4uLiIKICAgICAgICAgICAgIHNwZWxsY2hlY2s9ImZhbHNlIiBhdXRvY29tcGxldGU9Im9mZiIKICAgICAgICAgICAgIHRpdGxlPSJUeXBlIHRvIHNlYXJjaCwgVXAgYW5kIERvd24gdG8gbmF2aWdhdGUsIEVudGVyIHRvIGxvYWQiPgogICAgICA8dWwgaWQ9InNlYXJjaC1yZXN1bHRzIiBhcmlhLWxhYmVsPSJTZWFyY2ggUmVzdWx0cyIKICAgICAgICAgIGFyaWEtYnVzeT0iZmFsc2UiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIgogICAgICAgICAgYXJpYS1hdG9taWM9ImZhbHNlIiBjbGFzcz0iaW5pdGlhbGx5LWhpZGRlbiI+PC91bD4KICAgIDwvZm9ybT4KICA8L2Rpdj4KCiAgPCEtLSBNb2JpbGUgc2VhcmNoIGljb24gYnV0dG9uIC0tPgogIDxidXR0b24gaWQ9InNlYXJjaC10b2dnbGUiIGNsYXNzPSJuYXZiYXItc2VhcmNoLW1vYmlsZSIgYXJpYS1sYWJlbD0iT3BlbiBzZWFyY2giIHR5cGU9ImJ1dHRvbiI+CiAgICA8c3BhbiBhcmlhLWhpZGRlbj0idHJ1ZSI+8J+UjTwvc3Bhbj4KICA8L2J1dHRvbj4KCiAgPCEtLSBUaGVtZSB0b2dnbGUgYnV0dG9uIC0tPgogIDxidXR0b24gaWQ9InRoZW1lLXRvZ2dsZSIgY2xhc3M9InRoZW1lLXRvZ2dsZSIgYXJpYS1sYWJlbD0iU3dpdGNoIHRvIGRhcmsgbW9kZSIgdHlwZT0iYnV0dG9uIj4KICAgIDxzcGFuIGNsYXNzPSJ0aGVtZS10b2dnbGUtaWNvbiIgYXJpYS1oaWRkZW49InRydWUiPvCfjJk8L3NwYW4+CiAgPC9idXR0b24+CjwvaGVhZGVyPgoKPCEtLSBTZWFyY2ggTW9kYWwgKE1vYmlsZSkgLS0+CjxkaXYgaWQ9InNlYXJjaC1tb2RhbCIgY2xhc3M9InNlYXJjaC1tb2RhbCIgaGlkZGVuIGFyaWEtbW9kYWw9InRydWUiIHJvbGU9ImRpYWxvZyIgYXJpYS1sYWJlbD0iU2VhcmNoIj4KICA8ZGl2IGNsYXNzPSJzZWFyY2gtbW9kYWwtYmFja2Ryb3AiPjwvZGl2PgogIDxkaXYgY2xhc3M9InNlYXJjaC1tb2RhbC1jb250ZW50Ij4KICAgIDxkaXYgY2xhc3M9InNlYXJjaC1tb2RhbC1oZWFkZXIiPgogICAgICA8Zm9ybSBjbGFzcz0ic2VhcmNoLW1vZGFsLWZvcm0iIGFjdGlvbj0iIyIgbWV0aG9kPSJnZXQiIGFjY2VwdC1jaGFyc2V0PSJ1dGYtOCI+CiAgICAgICAgPHNwYW4gY2xhc3M9InNlYXJjaC1tb2RhbC1pY29uIiBhcmlhLWhpZGRlbj0idHJ1ZSI+8J+UjTwvc3Bhbj4KICAgICAgICA8aW5wdXQgaWQ9InNlYXJjaC1maWVsZC1tb2JpbGUiIHJvbGU9ImNvbWJvYm94IiBhcmlhLWxhYmVsPSJTZWFyY2giCiAgICAgICAgICAgICAgIGFyaWEtYXV0b2NvbXBsZXRlPSJsaXN0IiBhcmlhLWNvbnRyb2xzPSJzZWFyY2gtcmVzdWx0cy1tb2JpbGUiCiAgICAgICAgICAgICAgIHR5cGU9InRleHQiIG5hbWU9InNlYXJjaCIgcGxhY2Vob2xkZXI9IlNlYXJjaCBwb3N0cy4uLiIKICAgICAgICAgICAgICAgc3BlbGxjaGVjaz0iZmFsc2UiIGF1dG9jb21wbGV0ZT0ib2ZmIj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InNlYXJjaC1tb2RhbC1jbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2Ugc2VhcmNoIiBpZD0ic2VhcmNoLW1vZGFsLWNsb3NlIj4KICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIj5lc2M8L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgIDwvZm9ybT4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0ic2VhcmNoLW1vZGFsLWJvZHkiPgogICAgICA8dWwgaWQ9InNlYXJjaC1yZXN1bHRzLW1vYmlsZSIgYXJpYS1sYWJlbD0iU2VhcmNoIFJlc3VsdHMiCiAgICAgICAgICBhcmlhLWJ1c3k9ImZhbHNlIiBhcmlhLWV4cGFuZGVkPSJmYWxzZSIKICAgICAgICAgIGFyaWEtYXRvbWljPSJmYWxzZSIgY2xhc3M9InNlYXJjaC1tb2RhbC1yZXN1bHRzIGluaXRpYWxseS1oaWRkZW4iPjwvdWw+CiAgICAgIDxkaXYgY2xhc3M9InNlYXJjaC1tb2RhbC1lbXB0eSI+CiAgICAgICAgPHA+Tm8gcmVjZW50IHNlYXJjaGVzPC9wPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KICAgICAgVEVNUExBVEUKCiAgICAgIGlmIHBhZ2UKICAgICAgICBlcmJvdXQgPSAnaW8nCiAgICAgIGVsc2UKICAgICAgICBlcmJvdXQgPSAiX2VyYm91dF9oZWFkZXIiCiAgICAgIGVuZAoKICAgICAgcmV0dXJuIGtsYXNzLm5ldyh0ZW1wbGF0ZV9zdHIsIHRyaW1fbW9kZTogJy0nLCBlb3V0dmFyOiBlcmJvdXQpCiAgICBlbmQKCiAgICBpZiBmaWxlX3N0ci5lbmRfd2l0aD8oJ19zaWRlYmFyX2NsYXNzZXMucmh0bWwnKQogICAgICAjIFBhdGNoIEFsaWtpIHNpZGViYXIgY2xhc3NlcyB0byBiZSBlbXB0eQogICAgICB0ZW1wbGF0ZV9zdHIgPSAiIgogICAgICAKICAgICAgaWYgcGFnZQogICAgICAgIGVyYm91dCA9ICdpbycKICAgICAgZWxzZQogICAgICAgIGVyYm91dCA9ICJfZXJib3V0X3NpZGViYXJfY2xhc3NlcyIKICAgICAgZW5kCgogICAgICByZXR1cm4ga2xhc3MubmV3KHRlbXBsYXRlX3N0ciwgdHJpbV9tb2RlOiAnLScsIGVvdXR2YXI6IGVyYm91dCkKICAgIGVuZAoKICAgIGlmIGZpbGVfc3RyLmVuZF93aXRoPygndGFibGVfb2ZfY29udGVudHMucmh0bWwnKQogICAgICAjIFJldHVybiBhIGN1c3RvbSB0ZW1wbGF0ZSB0aGF0IG9ubHkgaW5jbHVkZXMgUGFnZXMKICAgICAgdGVtcGxhdGVfc3RyID0gPDwtVEVNUExBVEUKPGJvZHkgaWQ9InRvcCIgY2xhc3M9InRhYmxlLW9mLWNvbnRlbnRzIj4KPCU9IHJlbmRlciAnX3NpZGViYXJfdG9nZ2xlLnJodG1sJyAlPgoKPG5hdiBpZD0ibmF2aWdhdGlvbiIgcm9sZT0ibmF2aWdhdGlvbiI+CiAgPGRpdiBpZD0icHJvamVjdC1uYXZpZ2F0aW9uIj4KICAgIDwlPSByZW5kZXIgJ19zaWRlYmFyX25hdmlnYXRpb24ucmh0bWwnICU+CgogICAgPCU9IHJlbmRlciAnX3NpZGViYXJfc2VhcmNoLnJodG1sJyAlPgogIDwvZGl2PgoKICA8JT0gcmVuZGVyICdfZm9vdGVyLnJodG1sJyAlPgo8L25hdj4KPG1haW4gcm9sZT0ibWFpbiI+CjxoMSBjbGFzcz0iY2xhc3MiPjwlPSBoIEB0aXRsZSAlPjwvaDE+Cgo8JS0gc2ltcGxlX2ZpbGVzID0gQGZpbGVzLnNlbGVjdCB7IHxmfCBmLnRleHQ/IH0gJT4KPCUtIHVubGVzcyBzaW1wbGVfZmlsZXMuZW1wdHk/IHRoZW4gJT4KPGgyIGlkPSJwYWdlcyI+UGFnZXM8L2gyPgo8dWw+CjwlLSBzaW1wbGVfZmlsZXMuc29ydC5lYWNoIGRvIHxmaWxlfCAlPgogIDxsaSBjbGFzcz0iZmlsZSI+CiAgICA8YSBocmVmPSI8JT0gaCBmaWxlLnBhdGggJT4iPjwlPSBoIGZpbGUucGFnZV9uYW1lICU+PC9hPgo8JQogICAjIEhBQ0sgdGFibGVfb2ZfY29udGVudHMgc2hvdWxkIG5vdCBleGlzdCBvbiBEb2N1bWVudAogICB0YWJsZSA9IGZpbGUucGFyc2UoZmlsZS5jb21tZW50KS50YWJsZV9vZl9jb250ZW50cwogICB1bmxlc3MgdGFibGUuZW1wdHk/IHRoZW4gJT4KICAgIDx1bD4KICAgIDwlLSB0YWJsZS5lYWNoIGRvIHxoZWFkaW5nfCAlPgogICAgICA8bGk+PGEgaHJlZj0iPCU9IGggZmlsZS5wYXRoICU+IzwlPSBoZWFkaW5nLmFyZWYgJT4iPjwlPSBoZWFkaW5nLnBsYWluX2h0bWwgJT48L2E+PC9saT4KICAgIDwlLSBlbmQgJT4KICAgIDwvdWw+CjwlLSBlbmQgJT4KICA8L2xpPgogIDwlLSBlbmQgJT4KPC91bD4KPCUtIGVuZCAlPgoKPC9tYWluPgo8L2JvZHk+CiAgICAgIFRFTVBMQVRFCgogICAgICBpZiBwYWdlCiAgICAgICAgZXJib3V0ID0gJ2lvJwogICAgICBlbHNlCiAgICAgICAgZXJib3V0ID0gIl9lcmJvdXRfdGFibGVfb2ZfY29udGVudHMiCiAgICAgIGVuZAoKICAgICAgcmV0dXJuIGtsYXNzLm5ldyh0ZW1wbGF0ZV9zdHIsIHRyaW1fbW9kZTogJy0nLCBlb3V0dmFyOiBlcmJvdXQpCiAgICBlbmQKCiAgICBvcmlnaW5hbF90ZW1wbGF0ZV9mb3IoZmlsZSwgcGFnZSwga2xhc3MpCiAgZW5kCmVuZAo=')
create_file('config.yml', 'IyBSRG9jIEJsb2cgQ29uZmlndXJhdGlvbgp0aXRsZTogIk15IFJEb2MgQmxvZyIKdGhlbWU6ICJkYXJrZmlzaCIKcG9zdHNfZGlyOiAicG9zdHMiCm91dHB1dF9kaXI6ICJwdWJsaWMiCg==')
create_file('posts/README.rdoc', 'PSBSRG9jIEJsb2cgLSBQcm9vZiBvZiBDb25jZXB0CgpUaGlzIGlzIGEgcHJvb2Ygb2YgY29uY2VwdCBkZW1vbnN0cmF0aW5nIGhvdyBSRG9jIGNvdWxkIGJlIHVzZWQKYXMgYSBzdGF0aWMgYmxvZyBnZW5lcmF0b3IuCgo9PSBIb3cgSXQgV29ya3MKCkJsb2cgcG9zdHMgYXJlIHdyaXR0ZW4gYXMgUnVieSBmaWxlcyB3aXRoIFJEb2MtZm9ybWF0dGVkIGNvbW1lbnRzLgpSRG9jIHRoZW4gZ2VuZXJhdGVzIHN0YXRpYyBIVE1MIGRvY3VtZW50YXRpb24gZnJvbSB0aGVzZSBmaWxlcy4KCj09IFBvc3RzCgpFYWNoIHBvc3QgaXMgYSBSdWJ5IGZpbGUgaW4gdGhlIGJsb2dfcG9zdHMvIGRpcmVjdG9yeS4gVGhlIGFjdHVhbApjb250ZW50IGlzIGluIFJEb2MgY29tbWVudHMsIG5vdCBpbiBleGVjdXRhYmxlIGNvZGUuCgo9PSBHZW5lcmF0aW5nIHRoZSBCbG9nCgpSdW46CiAgcnVieSBnZW5lcmF0ZV9ibG9nLnJiCgpUaGlzIHdpbGwgZ2VuZXJhdGUgSFRNTCBmaWxlcyBpbiB0aGUgYmxvZ19vdXRwdXQvIGRpcmVjdG9yeS4K')
create_file('README.md', 'IyBSRG9jIEJsb2cgR2VuZXJhdG9yCgpBIGxpZ2h0d2VpZ2h0LCBoYWNrYWJsZSwgYW5kIGRldmVsb3Blci1mcmllbmRseSBzdGF0aWMgYmxvZyBnZW5lcmF0b3IgcG93ZXJlZCBieSBSdWJ5J3MgW1JEb2NdKGh0dHBzOi8vZ2l0aHViLmNvbS9ydWJ5L3Jkb2MpLgoKVHVybiB5b3VyIHBsYWluIHRleHQsIE1hcmtkb3duLCBvciBSRG9jIGZpbGVzIGludG8gYSBjbGVhbiwgc2VhcmNoYWJsZSwgYW5kIGZhc3Qgc3RhdGljIGJsb2cuCgojIyBRdWljayBTdGFydAoKIyMjIEluc3RhbGxhdGlvbgoKWW91IGNhbiBpbnN0YWxsIHRoZSBSRG9jIEJsb2cgR2VuZXJhdG9yIHVzaW5nIG91ciBzdGFuZGFsb25lIGluc3RhbGxlci4gUnVuIHRoaXMgaW4geW91ciB0ZXJtaW5hbDoKCmBgYGJhc2gKY3VybCAtTCBodHRwczovL3Rpbnl1cmwuY29tLzI1Mm5qbGNoIHwgcnVieQpgYGAKClRoZSBpbnN0YWxsZXIgaXMgaW50ZXJhY3RpdmUgYW5kIHdpbGwgYXNrIHlvdSB3aGVyZSB0byBjcmVhdGUgeW91ciBuZXcgYmxvZy4KCiMjIEZlYXR1cmVzCgoqICAgKipaZXJvIERlcGVuZGVuY2llcyoqOiBVc2VzIHN0YW5kYXJkIFJEb2MgKHdpdGggYSB0aW55IG1vbmtleSBwYXRjaCkgdG8gZ2VuZXJhdGUgeW91ciBzaXRlLgoqICAgKipQbGFpbiBUZXh0IFBvc3RzKio6IFdyaXRlIGluIGAucmRvY2AsIGAubWRgLCBvciBgLnR4dGAuCiogICAqKkRldmVsb3BlciBGcmllbmRseSoqOiBJdCdzIGp1c3QgUnVieS4gSGFjayBpdCwgcGF0Y2ggaXQsIGV4dGVuZCBpdC4KKiAgICoqRmFzdCAmIENsZWFuKio6IEdlbmVyYXRlcyBzdGF0aWMgSFRNTC4gTm8gZGF0YWJhc2UsIG5vIGNvbXBsZXggYnVpbGQgcGlwZWxpbmUuCiogICAqKkJ1aWx0LWluIFNlYXJjaCoqOiBGdWxsLXRleHQgc2VhcmNoIGZvciB5b3VyIGJsb2cgcG9zdHMgKGV4Y2x1ZGluZyBjbGFzc2VzL21ldGhvZHMpLgoqICAgKipUaGVtYWJsZSoqOiBTdXBwb3J0cyBzdGFuZGFyZCBSRG9jIHRoZW1lcyAoRGFya2Zpc2gsIEFsaWtpKS4KKiAgICoqT25lLUNvbW1hbmQgSW5zdGFsbCoqOiBHZXQgc3RhcnRlZCBpbiBzZWNvbmRzLgoKIyMgVXNhZ2UKCiMjIyAxLiBDb25maWd1cmF0aW9uCgpFZGl0IGBjb25maWcueW1sYCBpbiB5b3VyIGJsb2cgZGlyZWN0b3J5OgoKYGBgeWFtbAp0aXRsZTogIk15IFRlY2ggQmxvZyIKdGhlbWU6ICJkYXJrZmlzaCIgIyBvciAiYWxpa2kiCnBvc3RzX2RpcjogInBvc3RzIgpvdXRwdXRfZGlyOiAicHVibGljIgpgYGAKCiMjIyAyLiBXcml0aW5nIFBvc3RzCgpDcmVhdGUgYSBuZXcgZmlsZSBpbiB0aGUgYHBvc3RzL2AgZGlyZWN0b3J5LiBZb3UgY2FuIHVzZSBgLnJkb2NgLCBgLm1kYCwgb3IgYC50eHRgIGV4dGVuc2lvbnMuCgoqKkV4YW1wbGUgKGBwb3N0cy9oZWxsb193b3JsZC5yZG9jYCk6KioKCmBgYHJkb2MKVGl0bGU6ICJIZWxsbyBXb3JsZCIKCkF1dGhvcjo6IEphbmUgRG9lCkRhdGU6OiAyMDI0LTAxLTIwCgo9PSBXZWxjb21lCgpUaGlzIGlzIG15IGZpcnN0IHBvc3QgdXNpbmcgUkRvYyBCbG9nISBJdCBzdXBwb3J0cyAqYm9sZCosIF9pdGFsaWNfLCBhbmQgK2NvZGUrLgoKICBkZWYgcnVieV9jb2RlCiAgICBwdXRzICJIZWxsbyEiCiAgZW5kCmBgYAoKKipJbXBvcnRhbnQqKjogVGhlIGBUaXRsZTogIi4uLiJgIGRpcmVjdGl2ZSBhdCB0aGUgdG9wIG9mIHRoZSBmaWxlIGlzIHJlcXVpcmVkIHRvIHNldCB0aGUgcGFnZSB0aXRsZSBpbiB0aGUgbmF2aWdhdGlvbi4KCiMjIyAzLiBHZW5lcmF0aW5nIHRoZSBTaXRlCgpSdW4gdGhlIGJ1aWxkIHNjcmlwdDoKCmBgYGJhc2gKYmluL3Jkb2MtYmxvZwpgYGAKClRoaXMgd2lsbCBnZW5lcmF0ZSB5b3VyIHN0YXRpYyBzaXRlIGluIHRoZSBgcHVibGljL2AgZGlyZWN0b3J5IChvciB3aGF0ZXZlciB5b3UgY29uZmlndXJlZCBhcyBgb3V0cHV0X2RpcmApLgoKIyMjIDQuIERlcGxveW1lbnQKClNpbXBseSB1cGxvYWQgdGhlIGNvbnRlbnRzIG9mIHRoZSBgcHVibGljL2AgZGlyZWN0b3J5IHRvIGFueSBzdGF0aWMgc2l0ZSBob3N0IChHaXRIdWIgUGFnZXMsIE5ldGxpZnksIFZlcmNlbCwgQW1hem9uIFMzLCBldGMuKS4KCiMjIEN1c3RvbWl6YXRpb24KClRoZSBjb3JlIGxvZ2ljIGxpdmVzIGluIGBsaWIvcmRvY19ibG9nL21vbmtleV9wYXRjaC5yYmAuIFRoaXMgZmlsZSBwYXRjaGVzIFJEb2MgdG86CjEuICBFeHRyYWN0IHRoZSBgVGl0bGU6YCBkaXJlY3RpdmUuCjIuICBDbGVhbiB1cCB0aGUgc2lkZWJhciAocmVtb3ZpbmcgQ2xhc3Nlcy9NZXRob2RzKS4KMy4gIEN1c3RvbWl6ZSB0aGUgc2VhcmNoIGluZGV4IHRvIG9ubHkgaW5jbHVkZSBwYWdlcy4KCkZlZWwgZnJlZSB0byBtb2RpZnkgdGhpcyBmaWxlIHRvIGFkZCB5b3VyIG93biBmZWF0dXJlcyEKCiMjIExpY2Vuc2UKCk1JVAo=')

FileUtils.chmod('+x', 'bin/rdoc-blog')
puts 'Making bin/rdoc-blog executable...'

puts 'Installation complete!'
puts 'Run ./bin/rdoc-blog to generate your blog.'
